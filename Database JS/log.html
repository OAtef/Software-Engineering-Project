<style>
    #log .content {
        float: right;
        width: 100%;
        height: 100%;
        overflow: hidden;
        position: relative;
    }

    #log .content .log-messages {
        height:inherit;
        overflow-y: scroll;
        overflow-x: hidden;
    }

    #log .content .log-messages::-webkit-scrollbar {
        width: 8px;
        background: transparent;
    }
    #log .content .log-messages::-webkit-scrollbar-thumb {
        background-color: rgba(0, 0, 0, 0.3);
    }
    #log .content .log-messages ul li {
        display: inline-block;
        clear: both;
        margin: 15px 15px 5px 15px;
        width: calc(100% - 25px);
        font-size: 0.9em;
    }

    #log .content .log-messages ul
    {
        margin-right: 20px;
    }

    #log .content .log-messages ul li:nth-last-child(1) {
        margin-bottom: 20px;
    }
    #log .content .log-messages ul li.other img {
        margin: 6px 8px 0 0;
    }
    #log .content .log-messages ul li.other p {
        background: #435f7a;
        color: #f5f5f5;
    }
    #log .content .log-messages ul li.youu img {
        float: right;
        margin: 6px 0 0 8px;
    }
    #log .content .log-messages ul li.youu p {
        background: #f5f5f5;
        float: right;
    }
    #log .content .log-messages ul li img {
        width: 22px;
        border-radius: 50%;
        float: left;
    }
    #log .content .log-messages ul li p {
        display: inline-block;
        padding: 10px 15px;
        border-radius: 20px;
        max-width: 205px;
        line-height: 130%;
    }
    @media screen and (min-width: 735px) {
        #log .content .log-messages ul li p {
            max-width: 300px;
        }
    }
    #log .content .message-input {
        position: absolute;
        bottom: 0;
        width: 100%;
        z-index: 99;
    }
</style>


<div class="card-header py-3">
    <h6 class="m-0 font-weight-bold text-primary"> Logs </h6>
</div>

    <div class="card-body">

        <div id="log">
            <div class="content" style="background: aliceblue; overflow-y: auto;">
                <div class="log-messages">
                    <ul id="logss">

                    </ul>
                </div>
            </div>
        </div>

    </div>

<script>

    var log_div = document.getElementById("logss");

    $.ajax({
        url: '../controller/log.php',
        type: 'POST',
        dataType: "JSON",

        success: function(data) {

            if(data[0].length <= 15){

                var i = 0;
                while(i < data[0].length){

                    var text = '';
                    text += "<li class='other'> <img src='../../img/default.jpg' alt='' /><p>" + data[0][i] +" at " + data[1][i] + "</p></li>";
                    log_div.innerHTML += text;

                    i++;

                } var interval = setTimeout(function () {
                    if ($('#logg-li').hasClass('active')) {

                        $('#logg').click();
                    }

                    else
                    {
                        clearInterval(interval);
                    }
                }, 10000);
            }else{
                var i = data[0].length-15;
                while(i < data[0].length){

                    var text = '';
                    text += "<li class='other'> <img src='../../img/default.jpg' alt='' /><p>" + data[0][i] +" at " + data[1][i] + "</p></li>";
                    log_div.innerHTML += text;

                    i++;

                } var interval = setTimeout(function () {
                    if ($('#logg-li').hasClass('active')) {

                        $('#logg').click();
                    }

                    else
                    {
                        clearInterval(interval);
                    }
                }, 10000);
            }



 },
        error: function(data){
            console.log(data);
        }
    });




</script>

